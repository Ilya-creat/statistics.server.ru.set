{% extends 'base.html' %}
{% block css %}
{{ url_for('static', filename='css/main.css') }}
{% endblock %}
{% block body %}
		<div class="home_content">
			<section>
				<div class="container py-5">
				  <div class="row">
					<div class="col">
					  <nav aria-label="breadcrumb" class="bg-light rounded-3 p-3 mb-4">
						  <ol class="breadcrumb mb-0">
							<li class="breadcrumb-item"><a href="">sjudge@ubuntu: ~</a></li>
							  <li class="breadcrumb-item"><a href="">root</a></li>
							<li class="breadcrumb-item active" aria-current="page">news $</li>
						  </ol>
					  </nav>
					</div>
				  </div>
				</div>
				<div class="container notification">
					<div id="carouselExampleCaptions" class="carousel slide carousel-fade" data-bs-ride="carousel">
						  <div class="carousel-indicators">
							  <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="1"></button>
							  <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="2"></button>
							  <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="3"></button>
						  </div>
						  <div class="carousel-inner">
							  <div class="carousel-item active">
									<img src="/static/notif/custom/banner-tech.png" class="d-block w-100 notif-img" alt="banner">
									<div class="carousel-caption d-md-block sized" >
										<h5 style="color:#000000; text-align: right; font-weight: bold;">Технические работы</h5>
										<p style="color:#000000; text-align: right; font-weight: bold;">Cроки: 20.07.2023 &mdash; 31.12.2023</p>
										<div class="d-grid gap-2 d-md-flex justify-content-md-end">
											<a class="btn btn btn-outline-danger bl-1"  href="">Подробнее →</a>
										</div>
									</div>
								</div>
								<div class="carousel-item">
									<img src="/static/notif/custom/banner1.png" class="d-block w-100 notif-img" alt="banner">
									<div class="carousel-caption d-md-block sized" >
										<h5 style="color:#ffffff; text-align: right;">Всероссийская олимпиада по искусственному интеллекту</h5>
										<p style="color:#ffffff; text-align: right;">01.09.2023 старт олимпиады по ИИ! Присоединяйся и участвуй!</p>
										<div class="d-grid gap-2 d-md-flex justify-content-md-end">
											<a class="btn btn btn-outline-light bl-1"  href="">Перейти на all cups →</a>
											<a class="btn btn btn-outline-light bl-1"  href="">Перейти на официальный сайт →</a>
										</div>
									</div>
								</div>
							   <div class="carousel-item">
									<img src="/static/notif/custom/banner3.png" class="d-block w-100 notif-img" alt="banner">
									<div class="carousel-caption d-md-block sized" >
										<h5 style="color:#000000; text-align: right;">Codeforces: Платформа IT-чемпионатов</h5>
										<p style="color:#000000; text-align: right;">Желаешь участвовать в IT-соревнованиях? Тогда присоединяйся!</p>
										<div class="d-grid gap-2 d-md-flex justify-content-md-end">
											<a class="btn btn btn-outline-secondary bl-1"  href="">Присоединиться →</a>
										</div>
									</div>
								</div>
						  </div>
						  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"  data-bs-slide="prev">
								<span class="carousel-control-prev-icon" aria-hidden="true"></span>
								<span class="visually-hidden">Предыдущий</span>
						  </button>
						  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"  data-bs-slide="next">
								<span class="carousel-control-next-icon" aria-hidden="true"></span>
								<span class="visually-hidden">Следующий</span>
						  </button>
					</div>
				</div>
				<div class="container">
					{% if posts %}
					<div class="row">
						<!-- Blog entries-->
						<div class="col-lg-8">
							{% if page == 1 %}
							<div class="card mb-4">
								<a href="#!"></a>
								<div class="card-body">
									<div class="small text-muted">{{ posts[0].times }}</div>
									<h2 class="card-title h4">{{ posts[0].name_ru }}</h2>
									<p class="card-text">{{ posts[0].sub_content_ru }}</p>
									<a class="btn btn-primary" href="/post/{{ posts[0].id }}">Подробнее →</a>
								</div>
							</div>
							<div class="row">
							{% for i in range(1, (5, posts|length)|min) %}
								<div class="col-lg-6">
									<div class="card mb-4">
										<a href="#!"></a>
										<div class="card-body">
											<div class="small text-muted">{{ posts[i].times }}</div>
											<h2 class="card-title h4">{{ posts[i].name_ru }}</h2>
											<p class="card-text">{{ posts[i].sub_content_ru }}</p>
											<a class="btn btn-primary" href="/post/{{ posts[i].id }}">Подробнее →</a>
										</div>
									</div>
								</div>
							{% endfor %}
							</div>
							{% else %}
							<div class="row">
								{% for i in range((page - 1) * 6 - 1, (page * 6 - 1, posts|length)|min) %}
								<div class="col-lg-6">
									<div class="card mb-4">
										<a href="#!"></a>
										<div class="card-body">
											<div class="small text-muted">{{ posts[i].times }}</div>
											<h2 class="card-title h4">{{ posts[i].name_ru }}</h2>
											<p class="card-text">{{ posts[i].sub_content_ru }}</p>
											<a class="btn btn-primary" href="/post/{{ posts[i].id }}">Подробнее →</a>
										</div>
									</div>
								</div>
								{% endfor %}
							</div>
							{% endif %}
							<nav aria-label="Pagination">
								<hr class="my-0" />
								<ul class="pagination justify-content-center my-4">
									{% if mx_page < 8 %}
									{% if page == 1 %}
									<li class="page-item disabled"><a class="page-link" href="#" tabindex="-1" aria-disabled="true">Назад</a></li>
									<li class="page-item active" aria-current="page"><a class="page-link">1</a></li>
									{% else %}
									<li class="page-item"><a class="page-link" href="/?page={{ page - 1 }}" >Назад</a></li>
									<li class="page-item"><a class="page-link" href="/?page=1">1</a></li>
									{% endif %}
									{% for i in range(2, mx_page) %}
										{% if i == page %}
									        <li class="page-item active" aria-current="page"><a class="page-link">{{ i }}</a></li>
										{% else %}
										    <li class="page-item"><a class="page-link" href="/?page={{ i }}">{{ i }}</a></li>
										{% endif %}
									{% endfor %}
									{% if mx_page > 1 and page == mx_page %}
									<li class="page-item active" aria-current="page"><a class="page-link">{{ mx_page }}</a></li>
									<li class="page-item disabled"><a class="page-link" href="#" tabindex="-1" aria-disabled="true">Далее</a></li>
									{% elif mx_page > 1 %}
									<li class="page-item"><a class="page-link" href="/?page={{ mx_page }}">{{ mx_page }}</a></li>
									<li class="page-item"><a class="page-link" href="/?page={{ page + 1 }}" >Далее</a></li>
									{% else %}
									<li class="page-item disabled"><a class="page-link" href="#" tabindex="-1" aria-disabled="true">Далее</a></li>
									{% endif %}
									{% else %}
									{% if page == 1 %}
									<li class="page-item disabled"><a class="page-link" href="#" tabindex="-1" aria-disabled="true">Назад</a></li>
									<li class="page-item active" aria-current="page"><a class="page-link">1</a></li>
									<li class="page-item"><a class="page-link" href="/?page=2">2</a></li>
									<li class="page-item disabled"><a class="page-link">...</a></li>
									<li class="page-item"><a class="page-link" href="/?page={{ mx_page - 1 }}">{{ mx_page - 1 }}</a></li>
									<li class="page-item"><a class="page-link" href="/?page={{ mx_page }}">{{ mx_page }}</a></li>
									<li class="page-item"><a class="page-link" href="/?page={{ page + 1 }}" >Далее</a></li>
									{% elif page == 2 %}
									<li class="page-item"><a class="page-link" href="?page={{ page - 1 }}">Назад</a></li>
									<li class="page-item"><a class="page-link" href="/?page=1">1</a></li>
									<li class="page-item active" aria-current="page"><a class="page-link">2</a></li>
									<li class="page-item"><a class="page-link" href="/?page=3">3</a></li>
									<li class="page-item disabled"><a class="page-link">...</a></li>
									<li class="page-item"><a class="page-link" href="/?page={{ mx_page - 1 }}">{{ mx_page - 1 }}</a></li>
									<li class="page-item"><a class="page-link" href="/?page={{ mx_page }}">{{ mx_page }}</a></li>
									<li class="page-item"><a class="page-link" href="/?page={{ page + 1 }}" >Далее</a></li>
									{% elif page == 3 %}
									<li class="page-item"><a class="page-link" href="?page={{ page - 1 }}">Назад</a></li>
									<li class="page-item"><a class="page-link" href="/?page=1">1</a></li>
									<li class="page-item"><a class="page-link" href="/?page=2">2</a></li>
									<li class="page-item active" aria-current="page"><a class="page-link">3</a></li>
									<li class="page-item"><a class="page-link" href="/?page=4">4</a></li>
									<li class="page-item disabled"><a class="page-link">...</a></li>
									<li class="page-item"><a class="page-link" href="/?page={{ mx_page - 1 }}">{{ mx_page - 1 }}</a></li>
									<li class="page-item"><a class="page-link" href="/?page={{ mx_page }}">{{ mx_page }}</a></li>
									<li class="page-item"><a class="page-link" href="/?page={{ page + 1 }}" >Далее</a></li>
									{% elif page == mx_page - 2 %}
									<li class="page-item"><a class="page-link" href="?page={{ page - 1 }}">Назад</a></li>
									<li class="page-item"><a class="page-link" href="/?page=1">1</a></li>
									<li class="page-item"><a class="page-link" href="/?page=2">2</a></li>
									<li class="page-item disabled"><a class="page-link">...</a></li>
									<li class="page-item"><a class="page-link" href="/?page={{ mx_page - 3 }}">{{ mx_page - 3 }}</a></li>
									<li class="page-item active" aria-current="page"><a class="page-link">{{ mx_page - 2 }}</a></li>
									<li class="page-item"><a class="page-link" href="/?page={{ mx_page - 1 }}">{{ mx_page - 1 }}</a></li>
									<li class="page-item"><a class="page-link" href="/?page={{ mx_page }}">{{ mx_page }}</a></li>
									<li class="page-item"><a class="page-link" href="/?page={{ page + 1 }}" >Далее</a></li>
									{% elif page == mx_page - 1 %}
									<li class="page-item"><a class="page-link" href="?page={{ page - 1 }}">Назад</a></li>
									<li class="page-item"><a class="page-link" href="/?page=1">1</a></li>
									<li class="page-item"><a class="page-link" href="/?page=2">2</a></li>
									<li class="page-item disabled"><a class="page-link">...</a></li>
									<li class="page-item"><a class="page-link" href="/?page={{ mx_page - 2 }}">{{ mx_page - 2 }}</a></li>
									<li class="page-item active" aria-current="page"><a class="page-link">{{ mx_page - 1 }}</a></li>
									<li class="page-item"><a class="page-link" href="/?page={{ mx_page }}">{{ mx_page }}</a></li>
									<li class="page-item"><a class="page-link" href="/?page={{ page + 1 }}" >Далее</a></li>
									{% elif page == mx_page %}
									<li class="page-item"><a class="page-link" href="?page={{ page - 1 }}">Назад</a></li>
									<li class="page-item"><a class="page-link" href="/?page=1">1</a></li>
									<li class="page-item"><a class="page-link" href="/?page=2">2</a></li>
									<li class="page-item disabled"><a class="page-link">...</a></li>
									<li class="page-item"><a class="page-link" href="/?page={{ mx_page - 1 }}">{{ mx_page - 1 }}</a></li>
									<li class="page-item active" aria-current="page"><a class="page-link">{{ mx_page }}</a></li>
									<li class="page-item disabled"><a class="page-link" href="#" tabindex="-1" aria-disabled="true">Далее</a></li>
									{% else %}
									<li class="page-item"><a class="page-link" href="?page={{ page - 1 }}">Назад</a></li>
									<li class="page-item"><a class="page-link" href="/?page=1">1</a></li>
									<li class="page-item disabled"><a class="page-link">...</a></li>
									<li class="page-item"><a class="page-link" href="/?page={{ page - 1 }}">{{ page - 1}}</a></li>
									<li class="page-item active" aria-current="page"><a class="page-link">{{ page }}</a></li>
									<li class="page-item"><a class="page-link" href="/?page={{ page + 1}}">{{ page + 1}}</a></li>
									<li class="page-item disabled"><a class="page-link">...</a></li>
									<li class="page-item"><a class="page-link" href="/?page={{ mx_page }}">{{ mx_page }}</a></li>
									<li class="page-item"><a class="page-link" href="/?page={{ page + 1 }}" >Далее</a></li>
									{% endif %}
									{% endif %}
								</ul>
							</nav>
						</div>
						<!-- Side widgets-->
						<div class="col-lg-4">
							<!-- Categories widget-->
							<div class="card mb-4">
								<div class="card-header">Категории</div>
								<div class="card-body">
									<div class="row">
										<div class="col-sm-6">
											<ul class="list-unstyled mb-0">
												<li><a href="#!">API</a></li>
											</ul>
										</div>
										<div class="col-sm-6">
											<ul class="list-unstyled mb-0">
												<li><a href="#!">Чекеры</a></li>
											</ul>
										</div>
									</div>
								</div>
							</div>
							<!-- Side widget-->
							<div class="card mb-4">
								<div class="card-header">Вы</div>
								<div class="card-body">
									<div class="profile_stat">
										<div class="profile_details_stat">
											<img src="{{ url_for('static', filename=user["img-user"])}}" alt="">
											<div class="name_job_stat">
												<div class="name_stat">{{ user["name"] }}</div>
												<span class="badge bg-primary">{{ user["role"] }}</span>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					{% endif %}
				</div>
          	</section>
		</div>
	</div>

{% endblock %}
